# Web与HTTP

- 对象的寻址
	- URL(统一资源定位器)
	- Scheme://host:port/path
- HTTP协议概述
- C/S结构

## HTTP连接的两种类型
- 非持久性连接
	- 每个被引用的对象耗时2个RTT
- 持久性连接
	- 无流水的持久性连接
		- 客户端只有收到前一个响应后才发送新的请求
		- 每个被引用的对象耗时1个RTT
	- 带有流水机制的持久性连接
		- HTTP 1.1默认选项
		- 客户端只要遇到一个引用对象就尽快发出请求
		- 一共耗时1个RTT

## HTTP 请求消息
- HTTP协议有两类消息
	- 请求消息
	- 响应消息
- 请求消息
	- ASCII：人工可读

## Cookie(RFC6265)
HTTP协议无状态，很多应用需要服务器掌握客户端的状态，如网上购物，如何实现。
- Cookie的组件
	- HTTP相应消息的cookie头部行
	- HTTP请求消息的cookie头部行
	- 保存在客户端主机上的cookie文件，有浏览器管理
	- web服务端建一个数据库

- Cookie的作用
	- 身份认证
	- 购物车
	- 推荐
	- Web e-mail
	- ……

- 隐私问题

## Web缓存/代理服务器技术(CDN)
- 功能
	- 在不访问服务器的前提下满足客户端的HTTP请求
- 为什么要发明这种技术
	- 缩短客户请求的相应时间
	- 减少机构/组织的流量
	- 在大范围内(internet)实现有效的内容分发
- 浏览器向缓存/代理服务器发送所有的HTTP请求
	- 如果请求对象在缓存中，直接返回给客户端
	- 如果没有，从服务端请求返回并保存对象 
- 缓存的时效性(缓存对象是不是与远程服务器一致)
### 条件性GET方法
- 缓存
	- 在HTTP请求消息中声明所持有版本的日期
	- if-modified-since:\<date\>
- 服务器
	- 如果缓存的版本是最新的，则相应消息中不包含对象
	- HTTP/1.0 3.4 Not Modified
