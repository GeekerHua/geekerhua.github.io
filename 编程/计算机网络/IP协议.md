# IP协议
## IP分组格式
## IP分片
- 最大传输单元(MTU)
- 大IP分组向较小MTU链路转发时，可以被`分片`
- IP首部的相关字段用于标识分片以及确定分片的相对顺序  
## IP编制
> 32比特(IPv4)，点分十进制表示

- IP地址
	- 网络号(NetID)-高比特位
	- 主机号(HostID)-低比特位
- IP子网
	- IP地址具有相同网络号的设备接口
	- 不跨越路由器可以彼此物理联通的接口
- “有类”编址
	- 二分法
	- ABCDE类地址
- 私有IP地址
- A:10
- B:172.16 - 172.31
- C: 192.168.0 - 192.168.255

## IP子网划分及子网掩码
- IP地址
	- 网络号(NetID) - 高位比特
	- 子网号(SubID) - 元网络主机号部分比特
	- 主机号(HostID) -低位比特
- 子网掩码
	- 形式如IP地址，32位
	- 取值：
		- NetID、SubID位全部取1
		- HostID位全部取0
## CIDR(无类域间路由)
- 提高IPv4地址空间你分配效率
- 提高路由效率
	- 将多个子网聚合为一个较大的子网
	- 构造超网
	- 路由聚合

# DHPC
## 一个主机如何获得IP地址
- 硬编码
	- 静态配置
- 动态主机配置协议-DHCP
	- 从服务器动态获取：
		- IP地址
		- 子网掩码
		- 默认网关
		- DNS服务器名称与IP地址
	- 即插即用
	- 允许地址重用
	- 支持在用地址续租
	- 支持移动用户加入网络
## DHCP
- 主机广播“DHCP Discover”(发现报文)
- DHCP服务器利用“DHCP offer”(提供报文)进行相应
- 主机请求IP地址： “DHCP request”(请求报文)
- DHCP服务器分配IP地址“DHCP ack”(确认报文)

DHCP在应用层进行工作

